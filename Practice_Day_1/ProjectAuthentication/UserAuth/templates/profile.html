{% extends 'base.html'%}
{% load crispy_forms_tags %}

{% block title %} Profile {% endblock %}

{% block body %}

<h1 class="text-center text-primary">Welcome to profile</h1>
<h2>Hello {{ user.first_name }} {{ user.last_name }}</h2>

<!-- messages -->
{% if messages %}
  {% for m in messages %}
    <p class="bg-success p-3 text-white">{{ m }}</p>
  {% endfor %}
{% endif %}
<br/>

<div class="container mt-5">
  <div class="d-flex">
    
    <!-- Left side: Password change buttons -->
    <div class="me-5" style="min-width: 200px;">
      <div class="d-flex flex-column">
        <a class="btn btn-info my-2" href="{% url 'passchange' %}">Change Your Password</a>
        <a class="btn btn-warning my-2" href="{% url 'passchange2' %}">Change Your Password without old pass</a>
      </div>
    </div>

    <!-- Right side: Profile update form -->
    <div class="flex-grow-1">
      <div class="card p-4" style="border: 1px solid #91f3ec;">
        <h3 class="text-center">Update Profile Information</h3>
        <form method="post" novalidate>
          {% csrf_token %}
          
          {{ form|crispy }}
          
          <div class="text-center mt-4">
            <button class="btn btn-warning" type="submit">Change Data</button>
          </div>
        </form>
      </div>
    </div>

  </div>
</div>

{% endblock %}
